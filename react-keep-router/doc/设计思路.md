[TOC]

# `0.1`核心思路
```jsx
<KeepAliveProvider>
    <KeepAlive cacheKey='test'>
        <Test/>
    </KeepAlive>
</KeepAliveProvider>
```

`KeepAliveProvider`用于提供缓存，因为`KeepAlive`卸载之后，需要有一个地方缓存实例。【通常来说，推荐只在最顶层放置一个`KeepAliveProvider`即可】

`KeepAlive`包裹对应的`React`组件，将其创建的`React`元素通过回调的形式传递回`KeepAliveProvider`中，由`KeepAliveProvider`将其缓存到状态中，并进行渲染，渲染结束后将其实例传递给`KeepAlive`，`KeepAlive`将其挂在到自己的容器实例中。

- 为什么`KeepAlive`获取到实例后，需要挂载到容器实例上？<br/>
因为实例是真实的`DOM`元素，而不是`React`元素，是不能作为渲染的内容的。所以需要通过容器实例进行挂载【缺点是增加了一层容器元素，之后探究有没有更好的方案】

## 前置知识
需要明确三个概念
- `Component`【React组件】
- `Element` 【React元素】
- `Instance` 【实例/DOM元素】
